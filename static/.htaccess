Options -Indexes
DirectoryIndex index.html

# Desabilita cache do LiteSpeed
<IfModule LiteSpeed>
  CacheLookup off
</IfModule>

# Headers anti-cache para HTML
<FilesMatch "\.(html)$">
  Header set Cache-Control "no-cache, no-store, must-revalidate, max-age=0"
  Header set Pragma "no-cache"
  Header set Expires "Thu, 01 Jan 1970 00:00:00 GMT"
</FilesMatch>

# Cache longo para assets versionados (_app)
<FilesMatch "\.(js|css)$">
  Header set Cache-Control "public, max-age=31536000, immutable"
</FilesMatch>

# Cache curto para imagens (1 hora)
<FilesMatch "\.(png|jpg|jpeg|gif|webp|svg|ico)$">
  Header set Cache-Control "public, max-age=3600"
</FilesMatch>

RewriteEngine On

# Remove barra final (exceto diretorios reais)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} (.+)/$
RewriteRule ^ %1 [R=301,L]

# Se o arquivo existe, serve diretamente
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# Se e um diretorio, serve
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Tenta adicionar .html se o arquivo existir
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]
